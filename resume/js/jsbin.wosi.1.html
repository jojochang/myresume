<!DOCTYPE html>
<script src="scripts/jquery-1.11.2.js"></script>
<html>
<head>
  <meta charset="utf-8">
  <title>表驱动法</title>
</head>
<body>
<div class="container">
  <input type="text" name="phone">
  <button name="save">save</button>
  <div class="tab">chinese</div>
</div>
<script id="jsbin-javascript">
var $container = $('.container')
// $container.find('input[name]=phone').on('change',function(){})
// $container.find('button[name]=save').on('click',function(){})
// $container.find('div.tab').on('click',function(){})

// var tabs = {
//   'change input[name=phone]':function(){console.log(1)},
//   'click button[name=save]':function(){console.log(2)},
//   'click div.tab':function(){console.log(3)}
// }
// for(var key in tabs){
//   var indexOfSpace = key.indexOf(' ')
//   var events = key.substring(0,indexOfSpace)
//   var selector = key.substring(indexOfSpace,key.length)
//   var value = tabs[key]
//   $container.find(selector).on(events,value)
// }
/**
 * 如果这个events只有一个参数，而我们的events函数是要传两个参数进去的
 * 第一个形参container-->$node,第二个形参eventsTabs-->tabs
 * 做一个判断，把events唯一的参数传给eventsTabs，再把$('body')传给container
 * 第二种方法：（不用形参）
 function events(){
  var container,eventsTabs
  if (arguments.length === 1) {
    container = 'body'
    eventsTabs = arguments[0]
  }else{
    container = arguments[0]
    eventsTabs = arguments[1]
  }
  var $container = $(container)
}
**/
//放到另外一个文件里需要使用时再引入
function eventer(container,eventsTabs){
  if (arguments.length === 1) {
    eventsTabs = container
    container = 'body'
  }
  var $container = $(container)

  for(var key in eventsTabs){
    var indexOfSpace = key.indexOf(' ')
    var events = key.substring(0,indexOfSpace)
    var selector = key.substring(indexOfSpace,key.length)
    var value = eventsTabs[key]
    $container.find(selector).on(events,value)
  }
}
//引用
eventer({
  'change input[name=phone]': function f1(){console.log(1)},
  'click button[name=save]': function f2(){console.log(2)},
  'click div.tab': function f3(){console.log(3)}
})

/*
 *把重复的代码优化封装，使用表驱动法
 */

</script>
</body>
</html>